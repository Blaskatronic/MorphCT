#### CI CONFIG

language: python

python:
  - "3.5"

integrations:
  notifications:
    - integrationName: hipchat-integration-morphct
      type: hipchat
      recipients:
        - "#3712501"

branches:
  only:
    - master
    - dev

env:
  global:
  - TRAVIS=False
  - secure: rc2aHrT6p4yH7GeBahXvAoMRGiXAHW1Fb0J/bzsdLy1VqQEmncf8EshvkQJk+6/KyiCuPtOxSSBdyZFrSxzsgpHA00QeHpS6FDZ5GFZlgyRa+U0RCXk7uPyxAbTuN41qSfxL+XEVTIAWDxTyidot9gQ2DiwRQXGRR69EBoiyZEBBJ/dAnmrksfo3a80hbbzV93wPyfHf4tvjvSPn8u9Diw4DHXg0YL6RcAM9SmQAj4P+N8gW8oe9xkVW9dl3aWITtC8j1ujtltqXmYMHB3aOfCb5lSfAauc0KzSn/hdiwZNnuTmTZW+KHfKw/T6L3JW3fbFpikFas1wTytHBidboiA==
build:
  cache: true
  cache_dir_list:
    - /opt/conda/envs/morphct/
  pre_ci_boot:
    image_name: cmelab/orca
    image_tag: 0.0.2
    pull: true
  ci:
    - source conda_cache_check.bash
    - pip install -e .
    - PYTEST_ADDOPTS="-c pytest-shippable.ini" pytest tests/test_helper_functions.py
  on_success:
    - export COMMIT="$(git log -1 --format="%H" | more)"
    - bash <(curl -s https://codecov.io/bash) || echo "Codecov upload failed, coverage reports not updated!"
