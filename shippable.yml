#### CI CONFIG

language: python

python:
  - "3.5"

integrations:
  notifications:
    - integrationName: hipchat-integration-morphct
      type: hipchat
      recipients:
        - "#3712501"

branches:
  only:
    - master
    - dev

env:
  global:
  - TRAVIS=False
  - secure: N2/WuUOa9lEbwXXOc5i3HGn52F2teM4T5UTb0QNUuQsSooHCR57P6bmamoy0iSReYstD8nhj2NgwQoustlhhQCFbT0uenm6P+B53MW6EAzpF1JdCGxn26O6p6TOKq//ecAqR34Lwy3eLbIqqv14QmIr5d+FhWdFZJ74jgYmG6oNC96oOyFGWGn4Duz4CYFdqPst1iMI1PoqQExl34JFfhRzix+VK8fnniGOHL64b+om76wpthkyXX4c2pyHJg83oJOgQwlqSIAO1aSs+Xl46X889fyAlXkbuaReuO7opYv32darm7oNWJlp8OiUFEO2Ij0FIyYL51BXt6A4EzcdR2Q==
build:
  cache: true
  cache_dir_list:
    - /opt/conda/envs/morphct/
  pre_ci_boot:
    image_name: cmelab/orca
    image_tag: 0.0.2
    pull: true
  ci:
    - source conda_cache_check.bash
    - pip install -e .
    - PYTEST_ADDOPTS="-c pytest-shippable.ini" pytest
  on_success:
      - git --version
      - bash <(curl -s https://codecov.io/bash) -t $CODECOV_REPO_TOKEN || echo "Codecov upload failed, coverage reports not updated!"
